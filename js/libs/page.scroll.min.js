!function(e,t,a){var l,n,i,s,o,r,c,u,h,f,g,d,p="mPageScroll2id",_="mPS2id",C={scrollSpeed:1e3,autoScrollSpeed:!0,scrollEasing:"easeInOutQuint",scrollingEasing:"easeOutQuint",pageEndSmoothScroll:!0,layout:"vertical",offset:0,highlightSelector:!1,clickedClass:_+"-clicked",targetClass:_+"-target",highlightClass:_+"-highlight",forceSingleHighlight:!1,keepHighlightUntilNext:!1,highlightByNextTarget:!1,disablePluginBelow:!1,clickEvents:!0,appendHash:!1,onStart:function(){},onComplete:function(){},defaultSelector:!1,live:!0,liveSelector:!1,excludeSelectors:!1,encodeLinks:!1},m=0,S={init:function(r){r=e.extend(!0,{},C,r);if(e(a).data(_,r),n=e(a).data(_),!this.selector){var c="__"+_;this.each((function(){var t=e(this);t.hasClass(c)||t.addClass(c)})),this.selector="."+c}n.liveSelector&&(this.selector+=","+n.liveSelector),l=l?l+","+this.selector:this.selector,n.defaultSelector&&("object"==typeof e(l)&&0!==e(l).length||(l=".m_PageScroll2id,a[rel~='m_PageScroll2id'],.page-scroll-to-id,a[rel~='page-scroll-to-id'],._ps2id")),n.clickEvents&&e(a).undelegate("."+_).delegate(l,"click."+_,(function(t){if(v._isDisabled.call(null))v._removeClasses.call(null);else{var a=e(this),l=a.attr("href"),i=a.prop("href").baseVal||a.prop("href");n.excludeSelectors&&a.is(n.excludeSelectors)||l&&-1!==l.indexOf("#/")||(v._reset.call(null),f=a.data("ps2id-offset")||0,v._isValid.call(null,l,i)&&v._findTarget.call(null,l)&&(t.preventDefault(),s="selector",o=a,v._setClasses.call(null,!0),v._scrollTo.call(null)))}})),e(t).unbind("."+_).bind("scroll.mPS2id resize."+_,(function(){if(v._isDisabled.call(null))v._removeClasses.call(null);else{var t=e("._mPS2id-t");t.each((function(a){var l=e(this),n=l.attr("id"),i=v._findHighlight.call(null,n);v._setClasses.call(null,!1,l,i),a==t.length-1&&v._extendClasses.call(null)}))}})),i=!0,v._setup.call(null),v._live.call(null)},scrollTo:function(t,a){if(v._isDisabled.call(null))v._removeClasses.call(null);else if(t&&void 0!==t){v._isInit.call(null);var l={layout:n.layout,offset:n.offset,clicked:!1};a=e.extend(!0,{},l,a);v._reset.call(null),u=a.layout,h=a.offset,t=-1!==t.indexOf("#")?t:"#"+t,v._isValid.call(null,t)&&v._findTarget.call(null,t)&&(s="scrollTo",(o=a.clicked)&&v._setClasses.call(null,!0),v._scrollTo.call(null))}},destroy:function(){e(t).unbind("."+_),e(a).undelegate("."+_).removeData(_),e("._mPS2id-t").removeData(_),v._removeClasses.call(null,!0)}},v={_isDisabled:function(){var e=t,l="inner",i=n.disablePluginBelow instanceof Array?[n.disablePluginBelow[0]||0,n.disablePluginBelow[1]||0]:[n.disablePluginBelow||0,0];return"innerWidth"in t||(l="client",e=a.documentElement||a.body),e[l+"Width"]<=i[0]||e[l+"Height"]<=i[1]},_isValid:function(e,a){if(e){var l=-1!==(a=a||e).indexOf("#/")?a.split("#/")[0]:a.split("#")[0],n=(t.location!==t.parent.location?t.parent.location:t.location).toString().split("#")[0];return"#"!==e&&-1!==e.indexOf("#")&&(""===l||decodeURIComponent(l)===decodeURIComponent(n))}},_setup:function(){var t=v._highlightSelector(),l=1,i=0;return e(t).each((function(){var s=e(this),o=s.attr("href"),r=s.prop("href").baseVal||s.prop("href");if(v._isValid.call(null,o,r)){if(n.excludeSelectors&&s.is(n.excludeSelectors))return;var c=-1!==o.indexOf("#/")?o.split("#/")[1]:o.split("#")[1],u=e(-1!==c.indexOf("%")?a.getElementById(c):"#"+c);if(u.length>0){n.highlightByNextTarget&&u!==i&&(i?i.data(_,{tn:u}):u.data(_,{tn:"0"}),i=u),u.hasClass("_mPS2id-t")||u.addClass("_mPS2id-t"),u.data(_,{i:l}),s.hasClass("_mPS2id-h")||s.addClass("_mPS2id-h");var h=v._findHighlight.call(null,c);v._setClasses.call(null,!1,u,h),m=l,++l==e(t).length&&v._extendClasses.call(null)}}}))},_highlightSelector:function(){return n.highlightSelector&&""!==n.highlightSelector?n.highlightSelector:l},_findTarget:function(t){var l=-1!==t.indexOf("#/")?t.split("#/")[1]:t.split("#")[1],i=e(-1!==l.indexOf("%")?a.getElementById(l):"#"+l);if(i.length<1||"fixed"===i.css("position")){if("top"!==l)return;i=e("body")}return r=i,u||(u=n.layout),h=v._setOffset.call(null),(c=[(i.offset().top-h[0]).toString(),(i.offset().left-h[1]).toString()])[0]=c[0]<0?0:c[0],c[1]=c[1]<0?0:c[1],c},_setOffset:function(){var t,a,l,i;switch(h||(h=n.offset?n.offset:0),f&&(h=f),typeof h){case"object":case"string":(a=[(t=[h.y?h.y:h,h.x?h.x:h])[0]instanceof jQuery?t[0]:e(t[0]),t[1]instanceof jQuery?t[1]:e(t[1])])[0].length>0?(l=a[0].height(),"fixed"===a[0].css("position")&&(l+=a[0][0].offsetTop)):l=!isNaN(parseFloat(t[0]))&&isFinite(t[0])?parseInt(t[0]):0,a[1].length>0?(i=a[1].width(),"fixed"===a[1].css("position")&&(i+=a[1][0].offsetLeft)):i=!isNaN(parseFloat(t[1]))&&isFinite(t[1])?parseInt(t[1]):0;break;case"function":(t=h.call(null))instanceof Array?(l=t[0],i=t[1]):l=i=t;break;default:l=i=parseInt(h)}return[l,i]},_findHighlight:function(a){var l=t.location!==t.parent.location?t.parent.location:t.location,i=l.toString().split("#")[0],s=l.pathname;if(-1!==i.indexOf("'")&&(i=i.replace("'","\\'")),-1!==s.indexOf("'")&&(s=s.replace("'","\\'")),i=decodeURIComponent(i),s=decodeURIComponent(s),n.encodeLinks){var o=encodeURI(i).toLowerCase(),r=encodeURI(s).toLowerCase();return e("._mPS2id-h[href='#"+a+"'],._"+_+"-h[href='"+i+"#"+a+"'],._"+_+"-h[href='"+s+"#"+a+"'],._"+_+"-h[href='#/"+a+"'],._"+_+"-h[href='"+i+"#/"+a+"'],._"+_+"-h[href='"+s+"#/"+a+"'],._"+_+"-h[href='"+o+"#/"+a+"'],._"+_+"-h[href='"+o+"#"+a+"'],._"+_+"-h[href='"+r+"#/"+a+"'],._"+_+"-h[href='"+r+"#"+a+"']")}return e("._mPS2id-h[href='#"+a+"'],._"+_+"-h[href='"+i+"#"+a+"'],._"+_+"-h[href='"+s+"#"+a+"'],._"+_+"-h[href='#/"+a+"'],._"+_+"-h[href='"+i+"#/"+a+"'],._"+_+"-h[href='"+s+"#/"+a+"']")},_setClasses:function(t,a,l){var i=n.clickedClass,s=n.targetClass,r=n.highlightClass;t&&i&&""!==i?(e("."+i).removeClass(i),o.addClass(i)):a&&s&&""!==s&&l&&r&&""!==r&&(v._currentTarget.call(null,a)?(a.addClass(s),l.addClass(r)):(!n.keepHighlightUntilNext||e("."+r).length>1)&&(a.removeClass(s),l.removeClass(r)))},_extendClasses:function(){var t=n.targetClass,a=n.highlightClass,l=e("."+t),i=e("."+a),s=t+"-first",o=t+"-last",r=a+"-first",c=a+"-last";e("._mPS2id-t").removeClass(s+" "+o),e("._mPS2id-h").removeClass(r+" "+c),n.forceSingleHighlight?n.keepHighlightUntilNext&&l.length>1?(l.slice(0,1).removeClass(t),i.slice(0,1).removeClass(a)):(l.slice(1).removeClass(t),i.slice(1).removeClass(a)):(l.slice(0,1).addClass(s).end().slice(-1).addClass(o),i.slice(0,1).addClass(r).end().slice(-1).addClass(c))},_removeClasses:function(t){e("."+n.clickedClass).removeClass(n.clickedClass),e("."+n.targetClass).removeClass(n.targetClass+" "+n.targetClass+"-first "+n.targetClass+"-last"),e("."+n.highlightClass).removeClass(n.highlightClass+" "+n.highlightClass+"-first "+n.highlightClass+"-last"),t&&(e("._mPS2id-t").removeClass("_mPS2id-t"),e("._mPS2id-h").removeClass("_mPS2id-h"))},_currentTarget:function(a){if(a.data(_)){var l=n["target_"+a.data(_).i],i=a.data("ps2id-target"),s=i&&e(i)[0]?e(i)[0].getBoundingClientRect():a[0].getBoundingClientRect();if(void 0!==l){var o=a.offset().top,r=a.offset().left,c=l.from?l.from+o:o,u=l.to?l.to+o:o,h=l.fromX?l.fromX+r:r,f=l.toX?l.toX+r:r;return s.top>=u&&s.top<=c&&s.left>=f&&s.left<=h}var g=e(t).height(),d=e(t).width(),p=i?e(i).height():a.height(),C=i?e(i).width():a.width(),m=1+p/g,S=m,v=g>p?m*(g/p):m,I=1+C/d,O=I,M=d>C?I*(d/C):I,b=[s.top<=g/S,s.bottom>=g/v,s.left<=d/O,s.right>=d/M];if(n.highlightByNextTarget){var w=a.data(_).tn;if(w){var x=w[0].getBoundingClientRect();"vertical"===n.layout?b=[s.top<=g/2,x.top>g/2,1,1]:"horizontal"===n.layout&&(b=[1,1,s.left<=d/2,x.left>d/2])}}return b[0]&&b[1]&&b[2]&&b[3]}},_scrollTo:function(){d=v._scrollSpeed.call(null),c=n.pageEndSmoothScroll?v._pageEndSmoothScroll.call(null):c;var a=e("html,body"),l=n.autoScrollSpeed?v._autoScrollSpeed.call(null):d,i=a.is(":animated")?n.scrollingEasing:n.scrollEasing,s=e(t).scrollTop(),o=e(t).scrollLeft();switch(u){case"horizontal":o!=c[1]&&(v._callbacks.call(null,"onStart"),a.stop().animate({scrollLeft:c[1]},l,i).promise().then((function(){v._callbacks.call(null,"onComplete")})));break;case"auto":if(s!=c[0]||o!=c[1])if(v._callbacks.call(null,"onStart"),navigator.userAgent.match(/(iPod|iPhone|iPad|Android)/)){var r;a.stop().animate({pageYOffset:c[0],pageXOffset:c[1]},{duration:l,easing:i,step:function(e,a){"pageXOffset"==a.prop?r=e:"pageYOffset"==a.prop&&t.scrollTo(r,e)}}).promise().then((function(){v._callbacks.call(null,"onComplete")}))}else a.stop().animate({scrollTop:c[0],scrollLeft:c[1]},l,i).promise().then((function(){v._callbacks.call(null,"onComplete")}));break;default:s!=c[0]&&(v._callbacks.call(null,"onStart"),a.stop().animate({scrollTop:c[0]},l,i).promise().then((function(){v._callbacks.call(null,"onComplete")})))}},_pageEndSmoothScroll:function(){var l=e(a).height(),n=e(a).width(),i=e(t).height(),s=e(t).width();return[l-c[0]<i?l-i:c[0],n-c[1]<s?n-s:c[1]]},_scrollSpeed:function(){var t=n.scrollSpeed;return o&&o.length&&o.add(o.parent()).each((function(){var a=e(this);if(a.attr("class")){var l=a.attr("class").split(" ");for(var n in l)if(String(l[n]).match(/^ps2id-speed-\d+$/)){t=l[n].split("ps2id-speed-")[1];break}}})),parseInt(t)},_autoScrollSpeed:function(){var l=e(t).scrollTop(),n=e(t).scrollLeft(),i=e(a).height(),s=e(a).width(),o=[d+d*Math.floor(Math.abs(c[0]-l)/i*100)/100,d+d*Math.floor(Math.abs(c[1]-n)/s*100)/100];return Math.max.apply(Math,o)},_callbacks:function(e){if(n)switch(this[_]={trigger:s,clicked:o,target:r,scrollTo:{y:c[0],x:c[1]}},e){case"onStart":if(n.appendHash&&t.history&&t.history.pushState&&o&&o.length){var a="#"+o.attr("href").split("#")[1];a!==t.location.hash&&history.pushState("","",a)}n.onStart.call(null,this[_]);break;case"onComplete":n.onComplete.call(null,this[_])}},_reset:function(){u=h=f=!1},_isInit:function(){i||S.init.apply(this)},_live:function(){g=setTimeout((function(){n.live?e(v._highlightSelector()).length!==m&&v._setup.call(null):g&&clearTimeout(g),v._live.call(null)}),1e3)},_easing:function(){function t(e){var t=7.5625,a=2.75;return 1/a>e?t*e*e:2/a>e?t*(e-=1.5/a)*e+.75:2.5/a>e?t*(e-=2.25/a)*e+.9375:t*(e-=2.625/a)*e+.984375}e.easing.easeInQuad=e.easing.easeInQuad||function(e){return e*e},e.easing.easeOutQuad=e.easing.easeOutQuad||function(e){return 1-(1-e)*(1-e)},e.easing.easeInOutQuad=e.easing.easeInOutQuad||function(e){return.5>e?2*e*e:1-Math.pow(-2*e+2,2)/2},e.easing.easeInCubic=e.easing.easeInCubic||function(e){return e*e*e},e.easing.easeOutCubic=e.easing.easeOutCubic||function(e){return 1-Math.pow(1-e,3)},e.easing.easeInOutCubic=e.easing.easeInOutCubic||function(e){return.5>e?4*e*e*e:1-Math.pow(-2*e+2,3)/2},e.easing.easeInQuart=e.easing.easeInQuart||function(e){return e*e*e*e},e.easing.easeOutQuart=e.easing.easeOutQuart||function(e){return 1-Math.pow(1-e,4)},e.easing.easeInOutQuart=e.easing.easeInOutQuart||function(e){return.5>e?8*e*e*e*e:1-Math.pow(-2*e+2,4)/2},e.easing.easeInQuint=e.easing.easeInQuint||function(e){return e*e*e*e*e},e.easing.easeOutQuint=e.easing.easeOutQuint||function(e){return 1-Math.pow(1-e,5)},e.easing.easeInOutQuint=e.easing.easeInOutQuint||function(e){return.5>e?16*e*e*e*e*e:1-Math.pow(-2*e+2,5)/2},e.easing.easeInExpo=e.easing.easeInExpo||function(e){return 0===e?0:Math.pow(2,10*e-10)},e.easing.easeOutExpo=e.easing.easeOutExpo||function(e){return 1===e?1:1-Math.pow(2,-10*e)},e.easing.easeInOutExpo=e.easing.easeInOutExpo||function(e){return 0===e?0:1===e?1:.5>e?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2},e.easing.easeInSine=e.easing.easeInSine||function(e){return 1-Math.cos(e*Math.PI/2)},e.easing.easeOutSine=e.easing.easeOutSine||function(e){return Math.sin(e*Math.PI/2)},e.easing.easeInOutSine=e.easing.easeInOutSine||function(e){return-(Math.cos(Math.PI*e)-1)/2},e.easing.easeInCirc=e.easing.easeInCirc||function(e){return 1-Math.sqrt(1-Math.pow(e,2))},e.easing.easeOutCirc=e.easing.easeOutCirc||function(e){return Math.sqrt(1-Math.pow(e-1,2))},e.easing.easeInOutCirc=e.easing.easeInOutCirc||function(e){return.5>e?(1-Math.sqrt(1-Math.pow(2*e,2)))/2:(Math.sqrt(1-Math.pow(-2*e+2,2))+1)/2},e.easing.easeInElastic=e.easing.easeInElastic||function(e){return 0===e?0:1===e?1:-Math.pow(2,10*e-10)*Math.sin((10*e-10.75)*(2*Math.PI/3))},e.easing.easeOutElastic=e.easing.easeOutElastic||function(e){return 0===e?0:1===e?1:Math.pow(2,-10*e)*Math.sin((10*e-.75)*(2*Math.PI/3))+1},e.easing.easeInOutElastic=e.easing.easeInOutElastic||function(e){return 0===e?0:1===e?1:.5>e?-Math.pow(2,20*e-10)*Math.sin((20*e-11.125)*(2*Math.PI/4.5))/2:Math.pow(2,-20*e+10)*Math.sin((20*e-11.125)*(2*Math.PI/4.5))/2+1},e.easing.easeInBack=e.easing.easeInBack||function(e){return 2.70158*e*e*e-1.70158*e*e},e.easing.easeOutBack=e.easing.easeOutBack||function(e){return 1+2.70158*Math.pow(e-1,3)+1.70158*Math.pow(e-1,2)},e.easing.easeInOutBack=e.easing.easeInOutBack||function(e){return.5>e?Math.pow(2*e,2)*(7.189819*e-2.5949095)/2:(Math.pow(2*e-2,2)*(3.5949095*(2*e-2)+2.5949095)+2)/2},e.easing.easeInBounce=e.easing.easeInBounce||function(e){return 1-t(1-e)},e.easing.easeOutBounce=e.easing.easeOutBounce||t,e.easing.easeInOutBounce=e.easing.easeInOutBounce||function(e){return.5>e?(1-t(1-2*e))/2:(1+t(2*e-1))/2}}};v._easing.call(),e.fn[p]=function(t){return S[t]?S[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist"):S.init.apply(this,arguments)},e[p]=function(t){return S[t]?S[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist"):S.init.apply(this,arguments)},e[p].defaults=C}(jQuery,window,document);